(this["webpackJsonptyping-trainer"]=this["webpackJsonptyping-trainer"]||[]).push([[0],{30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);c(17),c(18),c(20);var s=c(0),r=c.n(s),a=c(6),n=c.n(a),i=c(8),l=Object(i.b)({name:"trainer",initialState:{keysPressedAll:0,keysPressedWrong:0,keysPressedCorrect:0,startTime:0,endTime:0,langCorrect:!0},reducers:{keyPressed:function(e){e.keysPressedAll+=1},keyPressedWrong:function(e){e.keysPressedWrong+=1},keyPressedCorrect:function(e){e.keysPressedCorrect+=1},timeStarted:function(e,t){e.startTime=t.payload},timeEnded:function(e,t){e.endTime=t.payload},setLangCorrect:function(e,t){e.langCorrect=t.payload}}}),d=l.actions,o=d.keyPressed,j=d.keyPressedWrong,b=d.keyPressedCorrect,m=d.timeStarted,u=d.timeEnded,O=d.setLangCorrect,h=l.reducer,x=Object(i.a)({reducer:{trainer:h}}),f=c(2),y=(c(30),c(31),c(32),c(1));var v=function(){return Object(y.jsx)("nav",{className:"header navbar navbar-expand navbar-dark bg-primary rounded",children:Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("a",{className:"navbar-brand",href:"#",children:"Typing Trainer"}),Object(y.jsxs)("ul",{className:"navbar-nav flex-row nav-fill",children:[Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)("a",{className:"nav-link",href:"#",children:"\u0422\u0440\u0435\u043d\u0430\u0436\u0451\u0440"})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)("a",{className:"nav-link active",href:"#",children:"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)("a",{className:"nav-link",href:"#",children:"\u0418\u043d\u0444\u043e"})})]})]})})},p=c(9),N=c(4);c(34);var k=function(){var e=Object(s.useState)(""),t=Object(N.a)(e,2),c=t[0],r=t[1],a=Object(s.useState)(!0),n=Object(N.a)(a,2),i=n[0],l=n[1],d=Object(s.useState)(!1),h=Object(N.a)(d,2),x=h[0],v=h[1],k=Object(s.useState)([]),g=Object(N.a)(k,2),P=g[0],_=g[1],C=Object(s.useState)(!0),w=Object(N.a)(C,2),T=w[0],S=w[1],E=Object(s.useState)(!1),M=Object(N.a)(E,2),L=M[0],I=M[1],W=Object(s.useState)(0),A=Object(N.a)(W,2),D=A[0],J=A[1],B=Object(f.b)(),F=Object(f.c)((function(e){return e.trainer}));Object(s.useEffect)((function(){fetch("https://baconipsum.com/api/?type=meat-and-filler&paras=1").then((function(e){return e.json()})).then((function(e){r(e.join("").replace(/ {2}/g," ").split("")),l(!1)})).catch((function(){v(!0),l(!1)}))}),[]);var q=function(e){if(1===e.key.length)if(e.key.match(/[^\u0000-\u007f]/g)&&B(O(!1)),0===F.keysPressedCorrect&&(B(m((new Date).getTime())),J(setInterval((function(){B(u((new Date).getTime()))}),500))),B(o()),e.key===c[F.keysPressedCorrect])S(!0),_((function(e){return T?[].concat(Object(p.a)(e),[!0]):Object(p.a)(e)})),B(b()),I(!1);else{if(B(j()),L)return;_((function(e){return[].concat(Object(p.a)(e),[!1])})),I(!0),S(!1)}};return Object(s.useEffect)((function(){return window.addEventListener("keydown",q),function(){window.removeEventListener("keydown",q)}}),[c,q]),Object(s.useEffect)((function(){D&&F.keysPressedCorrect===c.length&&clearInterval(D)}),[F.keysPressedCorrect,D]),Object(y.jsx)("div",{className:"col symbols trainer",children:i?Object(y.jsx)("div",{className:"trainer__spinner d-flex justify-content-center",children:Object(y.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:Object(y.jsx)("span",{className:"sr-only",children:"Loading..."})})}):x?Object(y.jsx)("div",{className:"trainer__error d-flex align-items-center justify-content-center",children:Object(y.jsx)("p",{className:"text-center",children:"Error occurred. Please, re-load the page."})}):c.map((function(e,t){var c=P[t];return Object(y.jsx)("span",{className:"".concat(!0===c?"symbols_passed":!1===c?"symbols_failed":"symbols_black"," ").concat(F.keysPressedCorrect===t&&"symbols_current"),children:e},t)}))})};c(35);var g=function(){var e=Object(f.c)((function(e){return e.trainer})),t=(e.endTime-e.startTime)/6e4,c=Math.round(e.keysPressedCorrect/t),s=Math.round(e.keysPressedCorrect/e.keysPressedAll*100);return Object(y.jsxs)("div",{className:"statistics col-3 d-flex flex-column align-content-center text-center",children:[Object(y.jsxs)("div",{className:"statistics__metric metric",children:[Object(y.jsxs)("p",{className:"metric__text text-secondary",children:[Object(y.jsx)("i",{className:"bi bi-stopwatch text-secondary"})," \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c"]}),Object(y.jsxs)("span",{className:"text-primary metric__value",children:[isNaN(c)?0:c," \u0437\u043d/\u043c\u0438\u043d"]})]}),Object(y.jsxs)("div",{className:"statistics__metric metric",children:[Object(y.jsxs)("p",{className:"metric__text text-secondary",children:[Object(y.jsx)("i",{className:"bi bi-record-circle text-secondary"})," \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u044c"]}),Object(y.jsxs)("span",{className:"text-primary metric__value",children:[isNaN(s)?0:s,"%"]})]})]})},P=c(11),_=c.n(P);var C=function(){var e=Object(f.c)((function(e){return e.trainer})),t=Object(f.b)();return Object(s.useEffect)((function(){e.langCorrect||_()("#myModal").modal("show").on("hidden.bs.modal",(function(){t(O(!0))}))}),[e.langCorrect]),Object(y.jsx)("div",{className:"modal fade",id:"myModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(y.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(y.jsxs)("div",{className:"modal-content",children:[Object(y.jsxs)("div",{className:"modal-header",children:[Object(y.jsx)("h5",{className:"modal-title",id:"exampleModalLongTitle",children:"\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0440\u0430\u0441\u043a\u043b\u0430\u0434\u043a\u0430"}),Object(y.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(y.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(y.jsx)("div",{className:"modal-body",children:Object(y.jsx)("p",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u043c\u0435\u043d\u0438\u0442\u0435 \u0440\u0430\u0441\u043a\u043b\u0430\u0434\u043a\u0443 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439."})}),Object(y.jsx)("div",{className:"modal-footer",children:Object(y.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})})]})})})};var w=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(C,{}),Object(y.jsxs)("div",{className:"container app",children:[Object(y.jsx)(v,{}),Object(y.jsxs)("div",{className:"trainer-container d-flex p-3 bg-white border border-white rounded",children:[Object(y.jsx)(k,{}),Object(y.jsx)(g,{})]})]})]})};n.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(f.a,{store:x,children:Object(y.jsx)(w,{})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.dff84a69.chunk.js.map